{"version":3,"sources":["store/constants/user.js","store/reducers/auth.js","store/reducers/message.js","store/reducers/onlineUsers.js","store/index.js","hocs/auth.js","api/chat.js","api/auth.js","pages/Chat/index.jsx","store/actions/auth.js","pages/Login/index.jsx","App.js","index.js"],"names":["initialState","user","localStorage","getItem","JSON","parse","token","list","rootReducer","combineReducers","auth","state","payload","type","userTypes","messages","message","map","_id","messageId","Object","assign","read","onlineUsers","users","find","id","slice","filter","store","createStore","composeWithDevTools","applyMiddleware","thunk","isAuthHoc","Component","props","useSelector","exact","to","socketAPI","connectClb","disconnectClb","this","socket","io","process","getState","Promise","resolve","reject","on","error","disconnect","event","data","emit","response","console","fun","api","axios","create","responseType","baseURL","name","post","Content","Layout","Footer","Sider","Text","Typography","Paragraph","Link","Title","styles","textInSideBar","color","buttonInSideBar","margin","dispatch","useDispatch","Form","useForm","form","useState","disabledSend","disableSend","closedSidebar","closeSidebar","viewSnippet","content","width","height","src","video","frameBorder","useEffect","connect","catch","e","log","lastsMessages","forEach","author","animateScroll","scrollToBottom","containerId","style","display","flexGrow","collapsible","onCollapse","collapsed","onClick","typesUser","clear","shape","icon","LogoutOutlined","level","paddingLeft","split","renderItem","Item","Meta","avatar","backgroundColor","UserOutlined","title","strong","dataSource","maxHeight","overflowY","description","moment","date","format","CheckOutlined","locale","emptyText","onFinish","values","resetFields","span","rules","required","placeholder","marginLeft","htmlType","disabled","Login","userName","then","setItem","stringify","login","label","App","className","path","component","Chat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ec3e09d1.chunk.js","sourcesContent":["export default {\n    SING_IN: \"SING_IN\",\n    LOGOUT: \"LOGOUT\"\n};\n","import userTypes from \"../constants/user\";\nconst initialState = { user: localStorage.getItem(\"User\") ? JSON.parse(localStorage.getItem(\"User\")): null, token: localStorage.getItem(\"Token\") };\n\nexport function authentication(state = initialState, {payload, type}) {\n    switch (type) {\n        case userTypes.SING_IN:\n            return {...state, user: payload.user, token: payload.token}\n        case userTypes.LOGOUT:\n            return { user: null, token: \"\" };\n        default:\n            return state\n    }\n}\n","import userTypes from \"../constants/user\";\nconst initialState = {list: []};\n\nexport function message(state = initialState, {payload, type}) {\n    switch (type) {\n        case \"GET_MESSAGES\":\n            return {...state, list: payload.messages};\n        case \"NEW_MESSAGE\":\n            return {...state, list: [...state.list, payload.message]}\n        case \"READ_MESSAGE\":\n\n            return {...state, list: state.list.map((message) => {\n                    if (message._id === payload.messageId) {\n                        return Object.assign({}, message, {\n                            read: true\n                        });\n                    }\n                    return message;\n                })};\n        default:\n            return state\n    }\n}\n","const initialState = {list: []};\n\nexport function getOnlineUsers(state = initialState, {payload, type}) {\n    switch (type) {\n        case \"GET_USERS\":\n            return {...state, list: payload.users};\n        case \"NEW_USER\":\n            if (state.list.find(user => user._id == payload.user.id)){\n                return state;\n            }\n            return {...state, list: [...state.list, payload.user]};\n\n        case \"LEAVE_USER\":\n            return {...state, list: state.list.slice().filter((user)=> user._id !== payload.user.id)}\n        default:\n            return state;\n    }\n}\n","import {createStore, applyMiddleware, combineReducers} from 'redux'\nimport {authentication} from \"./reducers/auth\";\nimport thunk from 'redux-thunk';\nimport {message} from \"./reducers/message\";\nimport {getOnlineUsers} from \"./reducers/onlineUsers\";\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nconst rootReducer = combineReducers({\n    auth: authentication,\n    messages: message,\n    onlineUsers: getOnlineUsers\n});\n\nconst store = createStore(rootReducer, composeWithDevTools(\n    applyMiddleware(thunk)));\n\nexport default store;\n","import { useSelector } from 'react-redux';\nimport {Redirect} from \"react-router-dom\";\n\nfunction isAuthHoc(Component) {\n    const Wrapper = (props) => {\n        const token = useSelector((state) => state.auth.token);\n        return <>{token ? <Component {...props} /> : <Redirect exact to=\"/login\" />}</>;\n    };\n    return Wrapper;\n}\n\nexport default isAuthHoc;\n","import io from 'socket.io-client';\nimport store from \"../store\";\n\n\nconst host = process.env.REACT_APP_API_HOST;\nexport default class socketAPI {\n    socket;\n    connect(connectClb,disconnectClb) {\n        this.socket = io(host, {\n            auth: {\n                token: store.getState().auth.token\n            }\n        });\n        return new Promise((resolve, reject) => {\n            this.socket.on('connect', () => {connectClb(); resolve()});\n            this.socket.on('connect_error', (error) => reject(error));\n            return new Promise((resolve, reject) => {\n                this.socket.on('disconnect', () => {disconnectClb(); resolve()});\n            });\n        });\n    }\n    disconnect() {\n        return new Promise((resolve) => {\n            this.socket.disconnect(() => {\n                this.socket = null;\n                resolve();\n            });\n        });\n    }\n    emit(event, data) {\n        return new Promise((resolve, reject) => {\n            if (!this.socket) return reject('No socket connection.');\n            return this.socket.emit(event, data, (response) => {\n                if (response.error) {\n                    console.error(response.error);\n                    return reject(response.error);\n                }\n                return resolve();\n            });\n        });\n    }\n    on(event, fun) {\n        return new Promise((resolve, reject) => {\n            if (!this.socket) return reject('No socket connection.');\n            this.socket.on(event, fun);\n            resolve();\n        });\n    }\n}\n","import axios from \"axios\";\n\nconst api =  axios.create({\n    responseType: \"json\",\n    baseURL: process.env.REACT_APP_API_HOST\n});\n\n\n\nexport default {\n    login: (name) => api.post(\"/login\", {name})\n}\n","import React, {useEffect, useState} from \"react\";\nimport {Form, Input, Button, List, Layout, Row, Col, Avatar, Typography} from \"antd\";\nimport isAuthHoc from \"../../hocs/auth\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport socketAPI from \"../../api/chat\";\nimport moment from \"moment\";\nimport {logout} from \"../../store/actions/auth\";\nimport {CheckOutlined, LogoutOutlined, UserOutlined} from \"@ant-design/icons\";\nimport {animateScroll} from \"react-scroll\";\n\n\nconst { Content, Footer, Sider} = Layout;\nconst {Text, Link, Paragraph, Title} = Typography;\n\n\nconst styles = {\n    textInSideBar: {\n        color: \"#FFFFFF\"\n    },\n    buttonInSideBar: {\n        margin: \"30px 10px\"\n    },\n};\n\n\nconst socket = new socketAPI();\nfunction Chat() {\n\n    const dispatch = useDispatch();\n    const [form] = Form.useForm();\n    const [disabledSend, disableSend] = useState(true);\n    const [closedSidebar, closeSidebar] = useState(false);\n    const sendMessage = (values) => {\n       socket.emit(\"new message\", {content: values.message});\n       form.resetFields();\n    };\n    const messages = useSelector(state => state.messages.list);\n    const user = useSelector(state => state.auth.user);\n\n    const onlineUsers = useSelector(state => state.onlineUsers.list);\n\n    const viewSnippet = (message) => {\n        return (<>\n            <Paragraph>{message.content}</Paragraph>\n            <iframe id=\"ytplayer\" type=\"text/html\" width=\"640\" height=\"360\"\n                                  src={`http://www.youtube.com/embed/${message.video}`}\n                                  frameBorder=\"0\"/></>);\n    };\n\n    const viewMessages = (message) => {\n        return(<List.Item>\n            <List.Item.Meta\n                avatar={<Avatar style={{ backgroundColor: '#87d068' }}\n                                icon={<UserOutlined />} />}\n                            title={<Text strong>{message.author.name}</Text>}\n                description={message.video ? viewSnippet(message) : <Paragraph>{message.content}</Paragraph>}\n            />\n\n            <List.Item>{moment(message.date).format(\"HH:mm\")}</List.Item>\n            <List.Item>{message.read && <CheckOutlined />}</List.Item>\n        </List.Item>)\n    }\n\n    const viewOnlineUsers = (user) => {\n        return(<List.Item>\n            <List.Item.Meta\n            avatar={<Avatar style={{ backgroundColor: '#87d068' }}\n                            icon={<UserOutlined />} />}\n            title={!closedSidebar && <Text style={styles.textInSideBar} strong>{user.name}</Text>}\n\n        />\n        </List.Item>)\n    }\n\n    const singUp = () => {\n        dispatch(logout());\n        socket.disconnect();\n    };\n\n    useEffect(() => {\n        socket.connect(() => disableSend(false),() => disableSend(true)).catch(e => console.log(e.message));\n        socket.on(\"connected\",({onlineUsers,lastsMessages}) => {\n            dispatch({type: \"GET_USERS\", payload: {users: onlineUsers}});\n            const unReadMessages = lastsMessages.filter(message => !message.read);\n            unReadMessages.forEach(message => {\n                user._id !== message.author._id && socket.emit(\"read message\", message._id);\n            })\n            dispatch({type: \"GET_MESSAGES\", payload: {messages: lastsMessages}});\n            animateScroll.scrollToBottom({containerId: \"chat\"})\n        });\n        socket.on(\"new message\", (message) => {\n            dispatch({type: \"NEW_MESSAGE\", payload: {message}});\n            animateScroll.scrollToBottom({containerId: \"chat\"})\n            user._id !== message.author._id && socket.emit(\"read message\", message._id);\n        });\n        socket.on(\"new user\", (user) => dispatch({type: \"NEW_USER\", payload: {user}}));\n        socket.on(\"read message\", (messageId) => dispatch({type: \"READ_MESSAGE\", payload: {messageId}}));\n        socket.on(\"user exit\", (user) => dispatch({type: \"LEAVE_USER\", payload: {user}}))\n        return () => socket.disconnect();\n    }, []);\n    return(\n        <div style={{display: \"flex\", height: \"100%\"}}>\n        <Layout  style={{flexGrow: 0}}>\n            <Sider collapsible onCollapse={(collapsed) => closeSidebar(collapsed)}>\n                <Button onClick={singUp} shape=\"circle\" icon={<LogoutOutlined />} style={styles.buttonInSideBar}></Button>\n                {!closedSidebar && <Title level={5}  style={styles.textInSideBar}>Online users:</Title>}\n                <List style={{paddingLeft: \"20px\"}} split={false} renderItem={viewOnlineUsers} dataSource={onlineUsers}></List>\n            </Sider>\n        </Layout>\n        <Layout style={{paddingLeft: \"30px\"}}>\n         <Content>\n             <List id=\"chat\" style={{maxHeight: \"90vh\", overflowY: \"scroll\"}} renderItem={viewMessages} dataSource={messages} locale={{emptyText: disabledSend ? \"Not connection\" : \"Not messages\"}}></List>\n         </Content>\n        <Footer>\n            <Form name=\"name\" form={form} onFinish={sendMessage}>\n                <Row>\n                    <Col span={20}>\n                        <Form.Item name=\"message\" rules={[{ required: true, message: 'Please input your message!' }]} >\n                        <Input placeholder=\"Enter a new message...\"/>\n                    </Form.Item>\n                    </Col>\n                    <Col span={4}>\n                        <Form.Item style={{marginLeft: \"30px\"}}>\n                            <Button type=\"primary\" htmlType=\"submit\" disabled={disabledSend}>Send message</Button>\n                        </Form.Item>\n                    </Col>\n\n                </Row>\n\n            </Form>\n        </Footer>\n    </Layout>\n\n        </div>)\n}\n\nexport default isAuthHoc(Chat);\n","import typesUser from \"../constants/user\"\nimport api from \"../../api/auth\";\n\nexport const login = (userName) =>  dispatch => {\n    api.login(userName).then((response) => {\n        dispatch({type: typesUser.SING_IN, payload: {token: response.data.token, user: response.data.user}});\n        localStorage.setItem(\"Token\", response.data.token);\n        localStorage.setItem(\"User\", JSON.stringify(response.data.user));\n    });\n};\n\nexport const logout = () =>  dispatch => {\n    dispatch({type: typesUser.LOGOUT});\n    localStorage.clear();\n};\n","import {Button, Form, Input, Layout} from \"antd\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {login} from \"../../store/actions/auth\";\nimport {Redirect} from \"react-router-dom\";\n\nfunction Login() {\n    const dispatch = useDispatch();\n    const token = useSelector(state => state.auth.token);\n    const singIn = ({userName}) => {\n       dispatch(login(userName));\n    }\n    return (<Layout>\n        <Form name=\"name\" onFinish={singIn}>\n            <Form.Item label=\"User name\" name=\"userName\">\n                <Input/>\n            </Form.Item>\n            <Form.Item >\n                <Button type=\"primary\" htmlType=\"submit\">Sing in</Button>\n            </Form.Item>\n        </Form>\n        {token && <Redirect to=\"/\"/>}\n    </Layout>);\n}\n\nexport default Login;\n","import React from \"react\";\nimport {BrowserRouter, Route} from \"react-router-dom\";\nimport Chat from \"./pages/Chat\";\nimport Login from \"./pages/Login\";\nimport \"./styles.scss\";\n\nfunction App() {\n  return ( <div className=\"app\">\n          <BrowserRouter>\n                  <Route exact path={process.env.PUBLIC_URL + '/'} component={Chat}/>\n                  <Route path={process.env.PUBLIC_URL + '/login'} component={Login}/>\n          </BrowserRouter>\n        </div>);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css'\nimport {Provider} from \"react-redux\";\nimport store from \"./store\";\nimport App from './App';\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={store}>\n          <App />\n      </Provider>\n\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}